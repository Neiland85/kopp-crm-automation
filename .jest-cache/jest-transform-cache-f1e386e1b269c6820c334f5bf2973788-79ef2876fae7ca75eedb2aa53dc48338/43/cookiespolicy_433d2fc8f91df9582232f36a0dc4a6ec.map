{"file":"/Users/estudio/Projects/GitHub/MICROSERVICIOS/kopp-stadium-crm_slack-hubspot-zappier-notion/kopp-crm-automation/src/policies/cookies-policy.ts","mappings":"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","names":[],"sources":["/Users/estudio/Projects/GitHub/MICROSERVICIOS/kopp-stadium-crm_slack-hubspot-zappier-notion/kopp-crm-automation/src/policies/cookies-policy.ts"],"sourcesContent":["/**\n * Política de Cookies Exhaustiva - Kopp Stadium CRM\n * Cumple con estándares AEPD, RGPD y mejores prácticas internacionales\n * \n * @version 2.0.0\n * @created 2025-07-04\n * @author Kopp Stadium Development Team\n */\n\nexport interface CookieCategory {\n  id: string;\n  name: string;\n  description: string;\n  essential: boolean;\n  enabled: boolean;\n  cookies: CookieDefinition[];\n  purpose: string;\n  legalBasis: string;\n  dataTransfer: string;\n  retention: string;\n  processors: string[];\n}\n\nexport interface CookieDefinition {\n  name: string;\n  domain: string;\n  purpose: string;\n  duration: string;\n  type: 'session' | 'persistent';\n  secure: boolean;\n  httpOnly: boolean;\n  sameSite: 'strict' | 'lax' | 'none';\n  processor: string;\n  country: string;\n  personalData: boolean;\n}\n\nexport interface CookieConsent {\n  timestamp: Date;\n  version: string;\n  categories: Record<string, boolean>;\n  ipAddress: string;\n  userAgent: string;\n  consentId: string;\n  method: 'banner' | 'settings' | 'api';\n}\n\nexport class CookiesPolicyManager {\n  private static readonly POLICY_VERSION = '2.0.0';\n  private static readonly LAST_UPDATED = '2025-07-04';\n\n  /**\n   * Definición completa de categorías de cookies\n   */\n  static readonly COOKIE_CATEGORIES: CookieCategory[] = [\n    {\n      id: 'essential',\n      name: 'Cookies Esenciales',\n      description: 'Cookies técnicamente necesarias para el funcionamiento básico del sitio web. No requieren consentimiento según el artículo 22.2 de la LSSI.',\n      essential: true,\n      enabled: true,\n      purpose: 'Garantizar la funcionalidad básica, seguridad y navegación del sitio web',\n      legalBasis: 'Interés legítimo (Art. 6.1.f RGPD) - Funcionalidad esencial del servicio',\n      dataTransfer: 'Datos procesados en servidores UE (certificación adequacy)',\n      retention: '1 año máximo, generalmente sesión o 30 días',\n      processors: ['Kopp Stadium S.L.', 'Proveedor de hosting certificado ISO 27001'],\n      cookies: [\n        {\n          name: 'session_id',\n          domain: '.kopp-stadium.com',\n          purpose: 'Identificación de sesión de usuario autenticado',\n          duration: 'Sesión (se elimina al cerrar navegador)',\n          type: 'session',\n          secure: true,\n          httpOnly: true,\n          sameSite: 'strict',\n          processor: 'Kopp Stadium S.L.',\n          country: 'España',\n          personalData: false\n        },\n        {\n          name: 'csrf_token',\n          domain: '.kopp-stadium.com',\n          purpose: 'Protección contra ataques CSRF (Cross-Site Request Forgery)',\n          duration: '24 horas',\n          type: 'persistent',\n          secure: true,\n          httpOnly: true,\n          sameSite: 'strict',\n          processor: 'Kopp Stadium S.L.',\n          country: 'España',\n          personalData: false\n        },\n        {\n          name: 'cookie_consent',\n          domain: '.kopp-stadium.com',\n          purpose: 'Almacenamiento de preferencias de consentimiento de cookies',\n          duration: '13 meses',\n          type: 'persistent',\n          secure: true,\n          httpOnly: false,\n          sameSite: 'strict',\n          processor: 'Kopp Stadium S.L.',\n          country: 'España',\n          personalData: false\n        },\n        {\n          name: 'language_preference',\n          domain: '.kopp-stadium.com',\n          purpose: 'Recordar idioma seleccionado por el usuario',\n          duration: '12 meses',\n          type: 'persistent',\n          secure: true,\n          httpOnly: false,\n          sameSite: 'lax',\n          processor: 'Kopp Stadium S.L.',\n          country: 'España',\n          personalData: false\n        }\n      ]\n    },\n    {\n      id: 'analytics',\n      name: 'Cookies Analíticas',\n      description: 'Cookies que recopilan información sobre el uso del sitio web para mejorar el rendimiento y la experiencia del usuario. Procesamiento pseudoanonimizado.',\n      essential: false,\n      enabled: false,\n      purpose: 'Análisis de comportamiento de usuarios, métricas de rendimiento y optimización de experiencia',\n      legalBasis: 'Consentimiento (Art. 6.1.a RGPD) - Previa información y consentimiento específico',\n      dataTransfer: 'Datos transferidos a Google LLC (EE.UU.) bajo adequacy decision',\n      retention: '26 meses (Google Analytics 4) - Configuración personalizada: 14 meses',\n      processors: ['Google Ireland Limited', 'Google LLC', 'Kopp Stadium S.L.'],\n      cookies: [\n        {\n          name: '_ga',\n          domain: '.kopp-stadium.com',\n          purpose: 'Identificador único de usuario para Google Analytics',\n          duration: '2 años',\n          type: 'persistent',\n          secure: true,\n          httpOnly: false,\n          sameSite: 'lax',\n          processor: 'Google Ireland Limited',\n          country: 'Irlanda/EE.UU.',\n          personalData: true\n        },\n        {\n          name: '_ga_[MEASUREMENT_ID]',\n          domain: '.kopp-stadium.com',\n          purpose: 'Identificador de sesión para Google Analytics 4',\n          duration: '2 años',\n          type: 'persistent',\n          secure: true,\n          httpOnly: false,\n          sameSite: 'lax',\n          processor: 'Google Ireland Limited',\n          country: 'Irlanda/EE.UU.',\n          personalData: true\n        },\n        {\n          name: '_gid',\n          domain: '.kopp-stadium.com',\n          purpose: 'Identificador único de sesión para Google Analytics',\n          duration: '24 horas',\n          type: 'persistent',\n          secure: true,\n          httpOnly: false,\n          sameSite: 'lax',\n          processor: 'Google Ireland Limited',\n          country: 'Irlanda/EE.UU.',\n          personalData: true\n        },\n        {\n          name: '_gat_gtag_[PROPERTY_ID]',\n          domain: '.kopp-stadium.com',\n          purpose: 'Limitación de velocidad de solicitudes en Google Analytics',\n          duration: '1 minuto',\n          type: 'persistent',\n          secure: true,\n          httpOnly: false,\n          sameSite: 'lax',\n          processor: 'Google Ireland Limited',\n          country: 'Irlanda/EE.UU.',\n          personalData: false\n        },\n        {\n          name: 'kopp_analytics',\n          domain: '.kopp-stadium.com',\n          purpose: 'Métricas internas de rendimiento y uso (datos pseudoanonimizados)',\n          duration: '12 meses',\n          type: 'persistent',\n          secure: true,\n          httpOnly: true,\n          sameSite: 'strict',\n          processor: 'Kopp Stadium S.L.',\n          country: 'España',\n          personalData: false\n        }\n      ]\n    },\n    {\n      id: 'marketing',\n      name: 'Cookies de Marketing',\n      description: 'Cookies utilizadas para mostrar publicidad relevante y medir la efectividad de campañas publicitarias. Incluyen remarketing y segmentación.',\n      essential: false,\n      enabled: false,\n      purpose: 'Publicidad dirigida, remarketing, medición de campañas y segmentación de audiencias',\n      legalBasis: 'Consentimiento (Art. 6.1.a RGPD) - Consentimiento específico e informado',\n      dataTransfer: 'Múltiples países (EE.UU., Reino Unido) bajo adequacy decisions y BCR',\n      retention: 'Variable: 30 días - 2 años según proveedor',\n      processors: ['Google Ireland Limited', 'Meta Platforms Ireland', 'Microsoft Ireland', 'LinkedIn Ireland'],\n      cookies: [\n        {\n          name: '_fbp',\n          domain: '.kopp-stadium.com',\n          purpose: 'Seguimiento de conversiones de Facebook Pixel',\n          duration: '3 meses',\n          type: 'persistent',\n          secure: true,\n          httpOnly: false,\n          sameSite: 'lax',\n          processor: 'Meta Platforms Ireland',\n          country: 'Irlanda/EE.UU.',\n          personalData: true\n        },\n        {\n          name: '_fbc',\n          domain: '.kopp-stadium.com',\n          purpose: 'Almacenamiento de parámetros de campaña de Facebook',\n          duration: '3 meses',\n          type: 'persistent',\n          secure: true,\n          httpOnly: false,\n          sameSite: 'lax',\n          processor: 'Meta Platforms Ireland',\n          country: 'Irlanda/EE.UU.',\n          personalData: true\n        },\n        {\n          name: 'ads/ga-audiences',\n          domain: '.google.com',\n          purpose: 'Remarketing y audiencias similares de Google Ads',\n          duration: '540 días',\n          type: 'persistent',\n          secure: true,\n          httpOnly: false,\n          sameSite: 'none',\n          processor: 'Google Ireland Limited',\n          country: 'Irlanda/EE.UU.',\n          personalData: true\n        },\n        {\n          name: 'li_sugr',\n          domain: '.linkedin.com',\n          purpose: 'Identificación de navegador para LinkedIn Ads',\n          duration: '3 meses',\n          type: 'persistent',\n          secure: true,\n          httpOnly: false,\n          sameSite: 'none',\n          processor: 'LinkedIn Ireland',\n          country: 'Irlanda/EE.UU.',\n          personalData: true\n        },\n        {\n          name: 'MUID',\n          domain: '.bing.com',\n          purpose: 'Identificador único de usuario para Microsoft Advertising',\n          duration: '13 meses',\n          type: 'persistent',\n          secure: true,\n          httpOnly: false,\n          sameSite: 'none',\n          processor: 'Microsoft Ireland',\n          country: 'Irlanda/EE.UU.',\n          personalData: true\n        }\n      ]\n    },\n    {\n      id: 'functional',\n      name: 'Cookies Funcionales',\n      description: 'Cookies que mejoran la funcionalidad del sitio web recordando preferencias y configuraciones del usuario.',\n      essential: false,\n      enabled: false,\n      purpose: 'Personalización de experiencia, recordatorio de preferencias y configuraciones',\n      legalBasis: 'Consentimiento (Art. 6.1.a RGPD) - Consentimiento previo para funcionalidades mejoradas',\n      dataTransfer: 'Principalmente procesamiento local (España/UE)',\n      retention: '12 meses promedio',\n      processors: ['Kopp Stadium S.L.', 'Proveedores de chat (certificados UE)'],\n      cookies: [\n        {\n          name: 'theme_preference',\n          domain: '.kopp-stadium.com',\n          purpose: 'Recordar preferencia de tema claro/oscuro',\n          duration: '12 meses',\n          type: 'persistent',\n          secure: true,\n          httpOnly: false,\n          sameSite: 'lax',\n          processor: 'Kopp Stadium S.L.',\n          country: 'España',\n          personalData: false\n        },\n        {\n          name: 'sidebar_state',\n          domain: '.kopp-stadium.com',\n          purpose: 'Estado de expansión/colapso de menú lateral',\n          duration: '6 meses',\n          type: 'persistent',\n          secure: true,\n          httpOnly: false,\n          sameSite: 'lax',\n          processor: 'Kopp Stadium S.L.',\n          country: 'España',\n          personalData: false\n        },\n        {\n          name: 'notification_preferences',\n          domain: '.kopp-stadium.com',\n          purpose: 'Preferencias de notificaciones push y email',\n          duration: '12 meses',\n          type: 'persistent',\n          secure: true,\n          httpOnly: true,\n          sameSite: 'strict',\n          processor: 'Kopp Stadium S.L.',\n          country: 'España',\n          personalData: false\n        },\n        {\n          name: 'chat_widget_minimized',\n          domain: '.kopp-stadium.com',\n          purpose: 'Estado del widget de chat (minimizado/expandido)',\n          duration: '30 días',\n          type: 'persistent',\n          secure: true,\n          httpOnly: false,\n          sameSite: 'lax',\n          processor: 'Kopp Stadium S.L.',\n          country: 'España',\n          personalData: false\n        }\n      ]\n    },\n    {\n      id: 'personalization',\n      name: 'Cookies de Personalización',\n      description: 'Cookies que permiten personalizar contenido y ofertas basándose en el comportamiento e intereses del usuario.',\n      essential: false,\n      enabled: false,\n      purpose: 'Personalización de contenido, recomendaciones y experiencia usuario',\n      legalBasis: 'Consentimiento (Art. 6.1.a RGPD) - Consentimiento específico para personalización',\n      dataTransfer: 'Procesamiento mixto (UE/terceros países con adequacy)',\n      retention: '6-24 meses según finalidad',\n      processors: ['Kopp Stadium S.L.', 'Proveedores de personalización certificados'],\n      cookies: [\n        {\n          name: 'user_segments',\n          domain: '.kopp-stadium.com',\n          purpose: 'Segmentación de usuario para personalización de contenido',\n          duration: '6 meses',\n          type: 'persistent',\n          secure: true,\n          httpOnly: true,\n          sameSite: 'strict',\n          processor: 'Kopp Stadium S.L.',\n          country: 'España',\n          personalData: true\n        },\n        {\n          name: 'content_recommendations',\n          domain: '.kopp-stadium.com',\n          purpose: 'Historial de contenido visualizado para recomendaciones',\n          duration: '3 meses',\n          type: 'persistent',\n          secure: true,\n          httpOnly: true,\n          sameSite: 'strict',\n          processor: 'Kopp Stadium S.L.',\n          country: 'España',\n          personalData: true\n        },\n        {\n          name: 'ab_test_group',\n          domain: '.kopp-stadium.com',\n          purpose: 'Asignación de grupo para pruebas A/B',\n          duration: '30 días',\n          type: 'persistent',\n          secure: true,\n          httpOnly: false,\n          sameSite: 'lax',\n          processor: 'Kopp Stadium S.L.',\n          country: 'España',\n          personalData: false\n        },\n        {\n          name: 'user_journey_stage',\n          domain: '.kopp-stadium.com',\n          purpose: 'Etapa del usuario en el customer journey',\n          duration: '90 días',\n          type: 'persistent',\n          secure: true,\n          httpOnly: true,\n          sameSite: 'strict',\n          processor: 'Kopp Stadium S.L.',\n          country: 'España',\n          personalData: true\n        }\n      ]\n    }\n  ];\n\n  /**\n   * Obtener política de cookies completa\n   */\n  static getCookiesPolicy(): {\n    version: string;\n    lastUpdated: string;\n    categories: CookieCategory[];\n    legalFramework: any;\n    userRights: any;\n    contactInfo: any;\n  } {\n    return {\n      version: this.POLICY_VERSION,\n      lastUpdated: this.LAST_UPDATED,\n      categories: this.COOKIE_CATEGORIES,\n      legalFramework: {\n        rgpd: 'Reglamento General de Protección de Datos (UE) 2016/679',\n        lssi: 'Ley 34/2002 de Servicios de la Sociedad de la Información y Comercio Electrónico',\n        lopd: 'Ley Orgánica 3/2018 de Protección de Datos Personales y Garantía de los Derechos Digitales',\n        directiveCookies: 'Directiva 2009/136/CE sobre privacidad y comunicaciones electrónicas',\n        aepd: 'Guía sobre el uso de cookies - Agencia Española de Protección de Datos'\n      },\n      userRights: {\n        access: 'Derecho de acceso a sus datos personales',\n        rectification: 'Derecho de rectificación de datos inexactos',\n        erasure: 'Derecho de supresión (\"derecho al olvido\")',\n        portability: 'Derecho a la portabilidad de datos',\n        restriction: 'Derecho de limitación del tratamiento',\n        objection: 'Derecho de oposición al tratamiento',\n        withdraw: 'Derecho a retirar el consentimiento en cualquier momento',\n        complaint: 'Derecho a presentar reclamación ante la AEPD'\n      },\n      contactInfo: {\n        company: 'Kopp Stadium S.L.',\n        address: 'Calle Ejemplo, 123, 28001 Madrid, España',\n        email: 'privacidad@kopp-stadium.com',\n        phone: '+34 900 123 456',\n        dpo: 'dpo@kopp-stadium.com',\n        aepd: 'https://www.aepd.es/es/canales/canal-de-video-denuncia'\n      }\n    };\n  }\n\n  /**\n   * Validar consentimiento según estándares AEPD\n   */\n  static validateConsent(consent: CookieConsent): boolean {\n    const requiredFields = ['timestamp', 'version', 'categories', 'consentId'];\n    return requiredFields.every(field => consent[field as keyof CookieConsent] !== undefined);\n  }\n\n  /**\n   * Generar ID único de consentimiento\n   */\n  static generateConsentId(): string {\n    return `consent_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`;\n  }\n\n  /**\n   * Verificar si una cookie específica está permitida\n   */\n  static isCookieAllowed(cookieName: string, consent: Record<string, boolean>): boolean {\n    const cookie = this.COOKIE_CATEGORIES\n      .flatMap(category => category.cookies)\n      .find(c => c.name === cookieName);\n    \n    if (!cookie) return false;\n    \n    const category = this.COOKIE_CATEGORIES.find(cat => \n      cat.cookies.some(c => c.name === cookieName)\n    );\n    \n    return category ? (category.essential || consent[category.id]) : false;\n  }\n\n  /**\n   * Obtener cookies por categoría\n   */\n  static getCookiesByCategory(categoryId: string): CookieDefinition[] {\n    const category = this.COOKIE_CATEGORIES.find(cat => cat.id === categoryId);\n    return category?.cookies || [];\n  }\n\n  /**\n   * Generar reporte de cumplimiento\n   */\n  static generateComplianceReport(): any {\n    return {\n      timestamp: new Date().toISOString(),\n      version: this.POLICY_VERSION,\n      compliance: {\n        rgpd: true,\n        lssi: true,\n        aepd: true,\n        cookieDirective: true\n      },\n      categoriesCount: this.COOKIE_CATEGORIES.length,\n      totalCookies: this.COOKIE_CATEGORIES.reduce((sum, cat) => sum + cat.cookies.length, 0),\n      essentialCookies: this.COOKIE_CATEGORIES.filter(cat => cat.essential).length,\n      dataTransfers: this.COOKIE_CATEGORIES.flatMap(cat => cat.processors).filter((v, i, a) => a.indexOf(v) === i),\n      retentionPeriods: this.COOKIE_CATEGORIES.map(cat => cat.retention),\n      lastAudit: this.LAST_UPDATED\n    };\n  }\n}\n\nexport default CookiesPolicyManager;\n"],"version":3}