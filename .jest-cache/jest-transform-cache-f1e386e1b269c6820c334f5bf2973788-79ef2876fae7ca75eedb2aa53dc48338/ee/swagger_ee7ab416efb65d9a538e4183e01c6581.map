{"file":"/Users/estudio/Projects/GitHub/MICROSERVICIOS/kopp-stadium-crm_slack-hubspot-zappier-notion/kopp-crm-automation/src/config/swagger.ts","mappings":"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","names":[],"sources":["/Users/estudio/Projects/GitHub/MICROSERVICIOS/kopp-stadium-crm_slack-hubspot-zappier-notion/kopp-crm-automation/src/config/swagger.ts"],"sourcesContent":["import swaggerJsdoc from 'swagger-jsdoc';\nimport swaggerUi from 'swagger-ui-express';\nimport { Express } from 'express';\n\n// ConfiguraciÃ³n bÃ¡sica de Swagger\nconst swaggerOptions: swaggerJsdoc.Options = {\n  definition: {\n    openapi: '3.0.0',\n    info: {\n      title: 'Kopp Stadium CRM API',\n      version: '1.0.0',\n      description: `\n# ðŸŸï¸ Kopp Stadium CRM API Documentation\n\nAutomatizaciÃ³n estratÃ©gica de CRM para Kopp Stadium con integraciÃ³n completa de:\n- ðŸ”— **Slack** - Notificaciones y alertas\n- ðŸ“Š **HubSpot** - GestiÃ³n de leads y contactos  \n- âš¡ **Zapier** - AutomatizaciÃ³n de workflows\n- ðŸ“ˆ **Google Sheets** - Scoring y anÃ¡lisis de leads\n- ðŸ“ **Notion** - DocumentaciÃ³n y seguimiento\n\n## ðŸŽ¯ CaracterÃ­sticas Principales\n\n### âš¡ Ultra Cost-Optimized\n- CI/CD minimal solo en rama main\n- ValidaciÃ³n local prioritaria\n- Timeouts reducidos (4-6 min)\n- Sin builds matrix innecesarios\n\n### ðŸ”’ Seguridad Implementada\n- ValidaciÃ³n de tokens en pre-commit hooks\n- Variables de entorno protegidas\n- Rate limiting en endpoints crÃ­ticos\n- SanitizaciÃ³n de inputs\n\n### ðŸ§ª Testing Completo\n- Tests unitarios e integraciÃ³n\n- Coverage tracking\n- Mocks optimizados para desarrollo\n- ValidaciÃ³n automÃ¡tica pre-commit\n\n### ðŸ“‹ ADRs Implementados\n- **ADR-ZAP-01**: Zapier CLI conventions\n- **ADR-HUB-05**: HubSpot DevTools integration\n- **ADR-003**: Copilot configuration\n\n## ðŸš€ Stack TecnolÃ³gico\n\n- **Runtime**: Node.js + TypeScript\n- **Framework**: Express.js\n- **Testing**: Jest + Supertest\n- **Linting**: ESLint + Prettier\n- **CI/CD**: GitHub Actions (ultra-minimal)\n- **Deployment**: Vercel\n- **Documentation**: Swagger/OpenAPI 3.0\n\n## ðŸ“š Enlaces Ãštiles\n\n- [GuÃ­a de IntegraciÃ³n Completa](/docs/INTEGRATIONS_COMPLETE_GUIDE.md)\n- [Estrategia de OptimizaciÃ³n de Costos](/docs/COST_OPTIMIZATION_STRATEGY.md)\n- [DocumentaciÃ³n de Setup](/FASE_1_COMPLETADA.md)\n      `,\n      termsOfService: 'https://kopp-stadium.com/terms',\n      contact: {\n        name: 'Kopp Stadium Development Team',\n        email: 'dev@kopp-stadium.com',\n        url: 'https://kopp-stadium.com/contact',\n      },\n      license: {\n        name: 'MIT',\n        url: 'https://opensource.org/licenses/MIT',\n      },\n    },\n    servers: [\n      {\n        url: 'http://localhost:3000',\n        description: 'Servidor de Desarrollo Local',\n      },\n      {\n        url: 'https://kopp-crm-automation.vercel.app',\n        description: 'Servidor de ProducciÃ³n (Vercel)',\n      },\n      {\n        url: 'https://staging-kopp-crm.vercel.app',\n        description: 'Servidor de Staging',\n      },\n    ],\n    tags: [\n      {\n        name: 'Health',\n        description: 'Endpoints de verificaciÃ³n de salud del sistema',\n      },\n      {\n        name: 'Slack',\n        description: 'IntegraciÃ³n con Slack API - Notificaciones y alertas',\n      },\n      {\n        name: 'HubSpot',\n        description:\n          'IntegraciÃ³n con HubSpot CRM - GestiÃ³n de leads y contactos',\n      },\n      {\n        name: 'Zapier',\n        description:\n          'Webhooks y triggers de Zapier - AutomatizaciÃ³n de workflows',\n      },\n      {\n        name: 'Google Sheets',\n        description: 'IntegraciÃ³n con Google Sheets - Lead scoring y anÃ¡lisis',\n      },\n      {\n        name: 'Webhooks',\n        description: 'Endpoints para recibir webhooks externos',\n      },\n      {\n        name: 'Analytics',\n        description: 'Endpoints de mÃ©tricas y anÃ¡lisis de rendimiento',\n      },\n    ],\n    components: {\n      securitySchemes: {\n        bearerAuth: {\n          type: 'http',\n          scheme: 'bearer',\n          bearerFormat: 'JWT',\n        },\n        apiKeyAuth: {\n          type: 'apiKey',\n          in: 'header',\n          name: 'X-API-Key',\n        },\n        slackAuth: {\n          type: 'apiKey',\n          in: 'header',\n          name: 'X-Slack-Signature',\n        },\n        hubspotAuth: {\n          type: 'apiKey',\n          in: 'header',\n          name: 'Authorization',\n        },\n      },\n      schemas: {\n        Error: {\n          type: 'object',\n          required: ['error', 'message'],\n          properties: {\n            error: {\n              type: 'string',\n              description: 'CÃ³digo de error',\n            },\n            message: {\n              type: 'string',\n              description: 'Mensaje descriptivo del error',\n            },\n            details: {\n              type: 'object',\n              description: 'Detalles adicionales del error',\n            },\n            timestamp: {\n              type: 'string',\n              format: 'date-time',\n              description: 'Timestamp del error',\n            },\n          },\n        },\n        HealthCheck: {\n          type: 'object',\n          properties: {\n            status: {\n              type: 'string',\n              enum: ['ok', 'error'],\n              description: 'Estado general del sistema',\n            },\n            timestamp: {\n              type: 'string',\n              format: 'date-time',\n              description: 'Timestamp de la verificaciÃ³n',\n            },\n            services: {\n              type: 'object',\n              properties: {\n                slack: {\n                  type: 'string',\n                  enum: ['connected', 'disconnected', 'error'],\n                },\n                hubspot: {\n                  type: 'string',\n                  enum: ['connected', 'disconnected', 'error'],\n                },\n                database: {\n                  type: 'string',\n                  enum: ['connected', 'disconnected', 'error'],\n                },\n              },\n            },\n            version: {\n              type: 'string',\n              description: 'VersiÃ³n de la API',\n            },\n          },\n        },\n        SlackMessage: {\n          type: 'object',\n          required: ['channel', 'text'],\n          properties: {\n            channel: {\n              type: 'string',\n              description: 'Canal de Slack destino',\n              example: '#general',\n            },\n            text: {\n              type: 'string',\n              description: 'Texto del mensaje',\n              example: 'Nuevo lead generado desde HubSpot',\n            },\n            priority: {\n              type: 'string',\n              enum: ['low', 'medium', 'high', 'urgent'],\n              description: 'Prioridad del mensaje',\n            },\n            attachments: {\n              type: 'array',\n              items: {\n                type: 'object',\n              },\n              description: 'Attachments del mensaje',\n            },\n          },\n        },\n        HubSpotContact: {\n          type: 'object',\n          required: ['email'],\n          properties: {\n            email: {\n              type: 'string',\n              format: 'email',\n              description: 'Email del contacto',\n              example: 'juan.perez@example.com',\n            },\n            firstname: {\n              type: 'string',\n              description: 'Nombre del contacto',\n              example: 'Juan',\n            },\n            lastname: {\n              type: 'string',\n              description: 'Apellido del contacto',\n              example: 'PÃ©rez',\n            },\n            phone: {\n              type: 'string',\n              description: 'TelÃ©fono del contacto',\n              example: '+34 600 123 456',\n            },\n            company: {\n              type: 'string',\n              description: 'Empresa del contacto',\n              example: 'Acme Corp',\n            },\n            lead_score: {\n              type: 'integer',\n              minimum: 0,\n              maximum: 100,\n              description: 'Score del lead (0-100)',\n              example: 85,\n            },\n            source: {\n              type: 'string',\n              description: 'Fuente del lead',\n              example: 'Website Form',\n            },\n          },\n        },\n        LeadScoring: {\n          type: 'object',\n          properties: {\n            contact_id: {\n              type: 'string',\n              description: 'ID del contacto en HubSpot',\n            },\n            score: {\n              type: 'integer',\n              minimum: 0,\n              maximum: 100,\n              description: 'Score calculado del lead',\n            },\n            factors: {\n              type: 'object',\n              properties: {\n                demographic: {\n                  type: 'integer',\n                  description: 'PuntuaciÃ³n demogrÃ¡fica',\n                },\n                behavioral: {\n                  type: 'integer',\n                  description: 'PuntuaciÃ³n comportamental',\n                },\n                engagement: {\n                  type: 'integer',\n                  description: 'PuntuaciÃ³n de engagement',\n                },\n              },\n            },\n            updated_at: {\n              type: 'string',\n              format: 'date-time',\n              description: 'Ãšltima actualizaciÃ³n del score',\n            },\n          },\n        },\n        WebhookPayload: {\n          type: 'object',\n          properties: {\n            event_type: {\n              type: 'string',\n              description: 'Tipo de evento del webhook',\n            },\n            data: {\n              type: 'object',\n              description: 'Datos del evento',\n            },\n            source: {\n              type: 'string',\n              enum: ['hubspot', 'slack', 'zapier', 'google_sheets'],\n              description: 'Fuente del webhook',\n            },\n            timestamp: {\n              type: 'string',\n              format: 'date-time',\n              description: 'Timestamp del evento',\n            },\n          },\n        },\n      },\n      responses: {\n        BadRequest: {\n          description: 'Solicitud invÃ¡lida',\n          content: {\n            'application/json': {\n              schema: {\n                $ref: '#/components/schemas/Error',\n              },\n            },\n          },\n        },\n        Unauthorized: {\n          description: 'No autorizado - Token invÃ¡lido o faltante',\n          content: {\n            'application/json': {\n              schema: {\n                $ref: '#/components/schemas/Error',\n              },\n            },\n          },\n        },\n        Forbidden: {\n          description: 'Prohibido - Sin permisos suficientes',\n          content: {\n            'application/json': {\n              schema: {\n                $ref: '#/components/schemas/Error',\n              },\n            },\n          },\n        },\n        NotFound: {\n          description: 'Recurso no encontrado',\n          content: {\n            'application/json': {\n              schema: {\n                $ref: '#/components/schemas/Error',\n              },\n            },\n          },\n        },\n        TooManyRequests: {\n          description: 'Demasiadas solicitudes - Rate limit excedido',\n          content: {\n            'application/json': {\n              schema: {\n                $ref: '#/components/schemas/Error',\n              },\n            },\n          },\n        },\n        InternalError: {\n          description: 'Error interno del servidor',\n          content: {\n            'application/json': {\n              schema: {\n                $ref: '#/components/schemas/Error',\n              },\n            },\n          },\n        },\n      },\n    },\n    security: [\n      {\n        bearerAuth: [],\n      },\n    ],\n  },\n  apis: [\n    './src/routes/*.ts',\n    './src/controllers/*.ts',\n    './src/webhooks/*.ts',\n    './src/api/*.ts',\n    './src/index.ts',\n  ],\n};\n\n// Generar especificaciÃ³n de Swagger\nconst specs = swaggerJsdoc(swaggerOptions);\n\n// ConfiguraciÃ³n de Swagger UI\nconst swaggerUiOptions = {\n  customCss: `\n    .swagger-ui .topbar { display: none }\n    .swagger-ui .info .title { color: #1f2937; font-size: 2rem; }\n    .swagger-ui .info .description { font-size: 1rem; line-height: 1.6; }\n    .swagger-ui .scheme-container { background: #f8fafc; padding: 1rem; border-radius: 8px; }\n  `,\n  customSiteTitle: 'Kopp Stadium CRM API Docs',\n  customfavIcon: '/favicon.ico',\n  swaggerOptions: {\n    persistAuthorization: true,\n    displayRequestDuration: true,\n    filter: true,\n    showExtensions: true,\n    showCommonExtensions: true,\n    docExpansion: 'list',\n    defaultModelsExpandDepth: 2,\n    defaultModelExpandDepth: 2,\n  },\n};\n\n// FunciÃ³n para configurar Swagger en la app\nexport const setupSwagger = (app: Express): void => {\n  // Endpoint para servir la documentaciÃ³n\n  app.use(\n    '/api-docs',\n    swaggerUi.serve,\n    swaggerUi.setup(specs, swaggerUiOptions)\n  );\n\n  // Endpoint para obtener el JSON de la especificaciÃ³n\n  app.get('/api-docs.json', (req, res) => {\n    res.setHeader('Content-Type', 'application/json');\n    res.send(specs);\n  });\n\n  // Endpoint para obtener YAML de la especificaciÃ³n\n  app.get('/api-docs.yaml', (req, res) => {\n    res.setHeader('Content-Type', 'application/x-yaml');\n    res.send(require('yaml').stringify(specs));\n  });\n\n  console.log('ðŸ“š Swagger documentation available at:');\n  console.log('   - UI: http://localhost:3000/api-docs');\n  console.log('   - JSON: http://localhost:3000/api-docs.json');\n  console.log('   - YAML: http://localhost:3000/api-docs.yaml');\n};\n\nexport { specs as swaggerSpecs };\n"],"version":3}